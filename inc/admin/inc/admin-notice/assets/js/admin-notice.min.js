(o=>{o(document).ready(function(){e.init()});var e={init:function(){this.deactivationLink=o("#the-list").find('[data-slug="qode-variation-swatches-for-woocommerce"] span.deactivate a'),this.deactivationModal=o("#qode-variation-swatches-for-woocommerce-deactivation-modal"),this.deactivationLink.length&&this.deactivationModal.length&&this.initModal()},initModal:function(){this.deactivationLink.on("click",function(t){t.preventDefault(),e.deactivationModal.fadeIn("fast")}),this.enableModalCloseFunctionality(),this.initSubmitFunctionality(),this.initSkipFunctionality()},enableSubmitButton:function(){var t=this.deactivationModal.find('input[name="reason_key"]'),i=this.deactivationModal.find(".qodef-deactivation-modal-button-submit");t.on("change",function(){i.removeClass("qodef--disabled")})},initSubmitFunctionality:function(){var i=this.deactivationModal.find(".qodef-deactivation-modal-button-submit"),a=this.deactivationModal.find(".qodef-deactivation-modal-button-skip"),n=this.deactivationModal.find("#qode-variation-swatches-for-woocommerce-deactivation-nonce");i.length&&i.on("click",function(t){t.preventDefault(),i.addClass("qodef--processing"),a.addClass("qodef--disabled");t=e.deactivationModal.find('input[name="reason_key"]:checked').val();o.ajax({type:"POST",data:{action:"qode_variation_swatches_for_woocommerce_deactivation",reason:t,additionalInfo:e.getAdditionalInfo(t),nonce:n.val()},url:ajaxurl,success:function(){e.deactivatePlugin()}})})},getAdditionalInfo:function(t){var i="";switch(t){case"found_a_better_plugin":i=e.deactivationModal.find('input[name="reason_found_a_better_plugin"]').val();break;case"other":i=e.deactivationModal.find('input[name="reason_other"]').val()}return i},initSkipFunctionality:function(){var i=this.deactivationModal.find(".qodef-deactivation-modal-button-submit"),a=this.deactivationModal.find(".qodef-deactivation-modal-button-skip");a.length&&a.on("click",function(t){t.preventDefault(),a.addClass("qodef--processing"),i.addClass("qodef--disabled"),e.deactivatePlugin()})},deactivatePlugin:function(){location.href=this.deactivationLink.attr("href")},enableModalCloseFunctionality:function(){var t=this.deactivationModal.find(".qodef-deactivation-modal-close");t.length&&t.on("click",function(t){t.preventDefault(),e.deactivationModal.fadeOut("fast")})}}})(jQuery);